---
import { serveFontSize } from "../helpers"
import type { HTMLTag, Polymorphic } from "astro/types"
import type { TypographyVariant } from "../types"
import { PortableText } from "astro-portabletext"
import type { TypedObject } from "astro-portabletext/types"

type DecorativeTextProps<Tag extends HTMLTag> = Polymorphic<{
  as: Tag
  text: TypedObject | string
  size?: string
}>

type Props = DecorativeTextProps<TypographyVariant>

const { as: Tag = "p", text, size = "canon" } = Astro.props
---

<Tag class:list={["italic", "font-deco", "my-2", serveFontSize(size)]}>
  <PortableText
    value={text as TypedObject}
    class:list={[
      "line-clamp-5",
      "text-balance",
      "font-deco",
      "italic",
      "text-deco",
      serveFontSize(size),
    ]}
  />
</Tag>
