---
import { getHomePage } from "@/src/data"

import Container from "@/src/components/Container.astro"
import DecorativeText from "@/src/components/DecorativeText.astro"
import HeadingText from "@/src/components/HeadingText.astro"
import Layout from "@/src/layouts/Layout.astro"
import ArticleTeaser from "../components/ArticleTeaser.astro"
import TripleGrid from "../components/TripleGrid.astro"

const { sectionHero, sectionBlog, blogArticles } = await getHomePage()
---

<Layout title="Poradnia psychologiczno-pedagogiczna Vivo">
  <section>
    <Container>
      <div class:list={["py-36", "lg:py-60", "flex", "items-center"]}>
        <div class:list={["lg:w-4/5"]}>
          <HeadingText as="h1" text={sectionHero.headline} />
          <DecorativeText text={sectionHero.tagline} />
        </div>
      </div>
    </Container>
  </section>
  <section>
    <Container>
      <div class:list={["text-center"]}>
        <HeadingText as="h1" text={sectionBlog.headline} />
        <DecorativeText text={sectionBlog.tagline} />
      </div>
      {
        blogArticles && (
          <TripleGrid>
            {blogArticles.map((article) => (
              <ArticleTeaser data={article} />
            ))}
          </TripleGrid>
        )
      }
      <div class:list={["text-center", "mb-12"]}>
        <a href="/blog" class:list={["button", "button-primary"]}> WiÄ™cej </a>
      </div>
    </Container>
  </section>
</Layout>
